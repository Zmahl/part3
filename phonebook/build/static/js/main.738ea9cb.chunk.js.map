{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Notification.js","services/people.js","App.js","index.js"],"names":["PersonForm","handleSubmit","handleNameChange","handleNumberChange","nameVal","numberVal","onSubmit","value","onChange","type","Filter","handleSearch","filteredResults","PersonList","persons","search","deletePerson","filter","person","name","includes","map","number","id","onClick","Notification","message","errorCheck","className","base_url","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setMessage","setErrorCheck","useEffect","phoneService","initialPeople","toLowerCase","event","target","class","preventDefault","personObject","personToChangeNumber","find","p","updatedNumber","window","confirm","returnedPeople","catch","error","setTimeout","console","log","concat","Person","deletedPerson","newList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.738ea9cb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({ handleSubmit, handleNameChange, handleNumberChange, nameVal, numberVal }) => {\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>add a new</h2>\r\n      <form onSubmit = {handleSubmit}>\r\n          <p>name: <input value = {nameVal} onChange = {handleNameChange}/></p>\r\n          <p>number: <input value = {numberVal} onChange = {handleNumberChange}/></p>\r\n        \r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({handleSearch, filteredResults}) => {\r\n    return(\r\n        <div>\r\n            <input onChange = {handleSearch} value = {filteredResults}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonList = ({persons, search, deletePerson}) => {\r\n\r\n    return (\r\n    <div>\r\n        <h2>Numbers</h2>\r\n        <ul>\r\n            {search ?\r\n                persons.filter((person) => person.name.includes(search))\r\n                .map((person) => (\r\n                    <li key = {person.id}>\r\n                        {person.name} {person.number}\r\n                    </li>\r\n                ))\r\n                :\r\n                persons.map((person) =>(\r\n                    <li key = {person.id}>\r\n                        {person.name} {person.number}\r\n                        <button onClick = {() => deletePerson(person.id, person.name)}>\r\n                            Delete\r\n                        </button>\r\n                    </li>\r\n                ))\r\n            }\r\n        </ul>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default PersonList","import React from 'react'\r\n\r\nconst Notification = ({message, errorCheck}) => {\r\n    if (message == null) {\r\n        return null\r\n    }\r\n    else {\r\n        return (\r\n            \r\n            <div className = {errorCheck ? \"error\" : \"success\"}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst base_url = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(base_url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(base_url, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n    const request = axios.delete(`${base_url}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${base_url}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deleteEntry,\r\n    update\r\n}","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport PersonList from './components/Person'\r\nimport Notification from './components/Notification'\r\n\r\nimport phoneService from './services/people'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [errorCheck, setErrorCheck] = useState(false)\r\n\r\n  useEffect(() =>{\r\n    phoneService\r\n    .getAll()\r\n    .then(initialPeople => {\r\n      setPersons(initialPeople)\r\n    })\r\n  }, [])\r\n\r\n  const search = (person) => {\r\n\r\n    if (newSearch === \"\"){\r\n      return person\r\n    }\r\n    else if (person.name.toLowerCase().includes(newSearch.toLowerCase())){\r\n      return person\r\n    } \r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n  \r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      id: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    const personToChangeNumber = persons.find(p => p.name === newName)\r\n    const updatedNumber = {...personToChangeNumber, number: newNumber}\r\n\r\n    if (personToChangeNumber){\r\n          if (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)){\r\n            phoneService\r\n            .update(updatedNumber.id, updatedNumber)\r\n            .then((returnedPeople) => {\r\n              setPersons(persons.map(person => person.name !== newName ? person : returnedPeople))\r\n              setNewName('')\r\n              setNewNumber('')\r\n            })\r\n            .catch(error => {\r\n              setMessage(\r\n                `Note ${personObject.name} was already deleted from server` \r\n              )\r\n              setErrorCheck(true)\r\n              setTimeout(() => {\r\n                setMessage(false)\r\n                setMessage(null)\r\n              }, 5000)\r\n              setPersons(persons.filter(p => p.name !== newName))\r\n            })     \r\n          }\r\n      }\r\n    \r\n    else {\r\n      console.log(personObject)\r\n      phoneService\r\n      .create(personObject)\r\n      .then(returnedPeople => {\r\n        setPersons(persons.concat(returnedPeople))\r\n        setMessage(`Added ${personObject.name}`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      \r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  } \r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearch = (event) => {\r\n    setNewSearch(event.target.value)\r\n  }\r\n\r\n  //Filter needed to delete entry, as concat will pull error of needing li key of deleted element\r\n  //Only will delete from frontend after refreshing the page\r\n  const handleDelete = (id, name) => {\r\n    if (window.confirm(`Delete ${name}?`)){\r\n      phoneService\r\n      .deleteEntry(id)\r\n      .then(() => {\r\n        const deletedPerson = persons.find(p => p.id === id)\r\n        const newList = persons.filter(p => p.id !== deletedPerson.id)\r\n        \r\n        setPersons(newList)\r\n      })\r\n      .catch(error => {\r\n        setMessage(\r\n          `Note ${name} was already deleted from server` \r\n        )\r\n        setErrorCheck(true)\r\n        setTimeout(() => {\r\n          setErrorCheck(false)\r\n          setMessage(null)\r\n        }, 5000)\r\n        setPersons(persons.filter(p => p.id !== id))\r\n      })\r\n    }\r\n  }\r\n  const filteredResults = !newSearch\r\n          ? persons\r\n          : persons.filter(search)\r\n\r\n\r\n  return (\r\n    <div> \r\n      <h2>Phonebook</h2>\r\n      <Notification message = {message} errorCheck={errorCheck}/>\r\n      <Filter handleSearch = {handleSearch} value = {filteredResults}/>\r\n      <PersonForm nameVal = {newName} numberVal = {newNumber} class = \"form\" handleSubmit = {handleSubmit} handleNameChange = {handleNameChange}\r\n        handleNumberChange = {handleNumberChange}/>\r\n      <PersonList persons = {persons} search = {newSearch} deletePerson = {handleDelete}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}