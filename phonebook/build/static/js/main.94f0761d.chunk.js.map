{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Notification.js","services/people.js","App.js","index.js"],"names":["PersonForm","handleSubmit","handleNameChange","handleNumberChange","nameVal","numberVal","onSubmit","value","onChange","type","Filter","handleSearch","filteredResults","PersonList","persons","search","deletePerson","filter","person","name","includes","map","number","id","onClick","Notification","message","errorCheck","className","base_url","axios","get","then","response","data","newObject","post","request","delete","console","log","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setMessage","setErrorCheck","useEffect","phoneService","initialPeople","toLowerCase","event","target","class","preventDefault","personObject","personToChangeNumber","find","p","window","confirm","updatedNumber","returnedPeople","catch","error","setTimeout","concat","JSON","stringify","Person","deletedPerson","newList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94f0761d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({ handleSubmit, handleNameChange, handleNumberChange, nameVal, numberVal }) => {\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>add a new</h2>\r\n      <form onSubmit = {handleSubmit}>\r\n          <p>name: <input value = {nameVal} onChange = {handleNameChange}/></p>\r\n          <p>number: <input value = {numberVal} onChange = {handleNumberChange}/></p>\r\n        \r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({handleSearch, filteredResults}) => {\r\n    return(\r\n        <div>\r\n            <input onChange = {handleSearch} value = {filteredResults}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonList = ({persons, search, deletePerson}) => {\r\n\r\n    return (\r\n    <div>\r\n        <h2>Numbers</h2>\r\n        <ul>\r\n            {search ?\r\n                persons.filter((person) => person.name.includes(search))\r\n                .map((person) => (\r\n                    <li key = {person.id}>\r\n                        {person.name} {person.number}\r\n                    </li>\r\n                ))\r\n                :\r\n                persons.map((person) =>(\r\n                    <li key = {person.id}>\r\n                        {person.name} {person.number}\r\n                        <button onClick = {() => deletePerson(person.id, person.name)}>\r\n                            Delete\r\n                        </button>\r\n                    </li>\r\n                ))\r\n            }\r\n        </ul>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default PersonList","import React from 'react'\r\n\r\nconst Notification = ({message, errorCheck}) => {\r\n    if (message == null) {\r\n        return null\r\n    }\r\n    else {\r\n        return (\r\n            \r\n            <div className = {errorCheck ? \"error\" : \"success\"}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst base_url = 'https://fso-phonebook-server.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(base_url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(base_url, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n    const request = axios.delete(`${base_url}/${id}`)\r\n    console.log(id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${base_url}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deleteEntry,\r\n    update\r\n}","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport PersonList from './components/Person'\r\nimport Notification from './components/Notification'\r\n\r\nimport phoneService from './services/people'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [errorCheck, setErrorCheck] = useState(false)\r\n\r\n  useEffect(() =>{\r\n    phoneService\r\n    .getAll()\r\n    .then(initialPeople => {\r\n      setPersons(initialPeople)\r\n    })\r\n  }, [])\r\n\r\n  const search = (person) => {\r\n\r\n    if (newSearch === \"\"){\r\n      return persons\r\n    }\r\n    else if (person.name.toLowerCase().includes(newSearch.toLowerCase())){\r\n      return person\r\n    } \r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n  \r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    const personToChangeNumber = persons.find(p => p.name === newName)\r\n\r\n    if (personToChangeNumber){\r\n          if (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)){\r\n            const updatedNumber = {...personToChangeNumber, number: newNumber}\r\n            phoneService\r\n            .update(updatedNumber.id, updatedNumber)\r\n            .then((returnedPeople) => {\r\n              setPersons(persons.map(person => person.name !== newName ? person : returnedPeople))\r\n              setNewName('')\r\n              setNewNumber('')\r\n            })\r\n            .catch(error => {\r\n              setMessage(\r\n                `Note ${personObject.name} was already deleted from server` \r\n              )\r\n              setErrorCheck(true)\r\n              setTimeout(() => {\r\n                setMessage(false)\r\n                setMessage(null)\r\n              }, 5000)\r\n              setPersons(persons.filter(p => p.name !== newName))\r\n              setNewName('')\r\n              setNewNumber('')\r\n            })     \r\n          }\r\n      }\r\n    \r\n    else {\r\n      console.log(personObject)\r\n      phoneService\r\n      .create(personObject)\r\n      .then(returnedPeople => {\r\n        setPersons(persons.concat(returnedPeople))\r\n        setMessage(`Added ${personObject.name}`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      .catch(error => {\r\n        setMessage(JSON.stringify(error.response.data))\r\n        setErrorCheck(true)\r\n        setTimeout(() => {\r\n          setErrorCheck(false)\r\n          setMessage(null)\r\n        }, 5000)\r\n      })\r\n      \r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  } \r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearch = (event) => {\r\n    setNewSearch(event.target.value)\r\n  }\r\n\r\n  //Filter needed to delete entry, as concat will pull error of needing li key of deleted element\r\n  //Only will delete from frontend after refreshing the page\r\n  const handleDelete = (id, name) => {\r\n    if (window.confirm(`Delete ${name}?`)){\r\n      phoneService\r\n      .deleteEntry(id)\r\n      .then(() => {\r\n        const deletedPerson = persons.find(p => p.id === id)\r\n        const newList = persons.filter(p => p.id !== deletedPerson.id)\r\n        \r\n        setPersons(newList)\r\n      })\r\n      .catch(error => {\r\n        setMessage(\r\n          `Note ${name} was already deleted from server` \r\n        )\r\n        setErrorCheck(true)\r\n        setTimeout(() => {\r\n          setErrorCheck(false)\r\n          setMessage(null)\r\n        }, 5000)\r\n        setPersons(persons.filter(p => p.id !== id))\r\n      })\r\n    }\r\n  }\r\n\r\n  const filteredResults = !newSearch\r\n          ? persons\r\n          : persons.filter(search)\r\n\r\n\r\n  return (\r\n    <div> \r\n      <h2>Phonebook</h2>\r\n      <Notification message = {message} errorCheck={errorCheck}/>\r\n      <Filter handleSearch = {handleSearch} value = {filteredResults}/>\r\n      <PersonForm nameVal = {newName} numberVal = {newNumber} class = \"form\" handleSubmit = {handleSubmit} handleNameChange = {handleNameChange}\r\n        handleNumberChange = {handleNumberChange}/>\r\n      <PersonList persons = {persons} search = {newSearch} deletePerson = {handleDelete}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}